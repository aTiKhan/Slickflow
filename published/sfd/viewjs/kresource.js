import jshelper from"../script/jshelper.js";const kresource=function(){function e(){}return e.mxCurrentLanguageJSON=null,e.MX_RESOURCE_LOCAL_LANGUAGE="mx-resource-local-lang",e.IsIE=navigator.userAgent.indexOf("MSIE")>=0,e.getLang=function(){var t=window.localStorage.getItem(e.MX_RESOURCE_LOCAL_LANGUAGE);return null!==t&&""!==t||("zh"!==(e.IsIE?navigator.userLanguage:navigator.language).substring(0,2)?window.localStorage.setItem(e.MX_RESOURCE_LOCAL_LANGUAGE,"en"):window.localStorage.setItem(e.MX_RESOURCE_LOCAL_LANGUAGE,"zh"),t=window.localStorage.getItem(e.MX_RESOURCE_LOCAL_LANGUAGE)),t},e.setLang=function(t){window.localStorage.setItem(e.MX_RESOURCE_LOCAL_LANGUAGE,t)},e.localize=function(t){var n=e.getLang(),a="resources/"+n+".json";t&&(a=t+a),jshelper.ajaxGet(a,null,(function(t){e.mxCurrentLanguageJSON=t,$(".lang").each((function(e){var n=$(this).attr("as");$(this).text(t[n])}))})),jshelper.ajaxGet(kconfig.webApiUrl+"api/Language/SetLang/"+n,null,(function(e){e.Status}))},e.getItem=function(t){return e.mxCurrentLanguageJSON[t]},e}();export default kresource;